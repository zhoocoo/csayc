<template>
  <DrowpDown v-model="theme" :data="themeConfig" @change="handlerChange"
    >🎨 主题</DrowpDown
  >
</template>

<script setup lang="ts">
import { setTheme, useTheme } from '~~/composable/useTheme'
import type { TThemeMap } from '~~/composable/useTheme'
interface IThemeItem {
  value: TThemeMap | string
  label: string
}

const theme = useTheme()

const handlerChange = (item: IThemeItem) => {
  setTheme(item.value)
}

const themeConfig = ref<{
  label: string
  value: string | number
  children?: IThemeItem[]
}>({
  label: '🎨 主题',
  value: '',
  children: [
    {
      value: 'light',
      label: '白昼模式'
    },
    {
      value: 'dark',
      label: '暗夜模式'
    },
    {
      value: 'system',
      label: '跟随系统'
    }
  ]
})
</script>
